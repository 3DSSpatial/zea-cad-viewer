import{S as e,i as t,s as a,e as s,a as o,t as r,b as n,c as l,d as c,a8 as i,l as d,O as u,a9 as m,v as p,f,w as g,y as h,n as w,g as y,x,X as b,H as v,z as I}from"./main.js";import{h as U}from"./sha256-806d8515.js";const S=new class{async isAuthenticated(){return!0}async getUserData(){const{zeaUserData:e}=window.localStorage;return e&&JSON.parse(e)}async setUserData(e){window.localStorage.zeaUserData=JSON.stringify(e)}async signOut(){localStorage.removeItem("zeaUserData")}},z=(e=3)=>Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,e);function j(e){let t,a,p,h,w,y,x,b,v,I,U,S,z,j,k,C,N,R,O,T,A,L,P,$,q,H=function(e){let t,a,r,u,m,p;return{c(){t=s("div"),a=s("p"),a.textContent="The roomId allows other users to join you in a collaborative session.",r=o(),u=s("input"),n(a,"class","mt-6 text-center"),n(u,"autocomplete","off"),n(u,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm"),n(u,"name","roomId"),n(u,"placeholder","Room ID (optional)"),n(u,"type","text"),n(t,"class","mb-2")},m(s,o){l(s,t,o),c(t,a),c(t,r),c(t,u),i(u,e[4].roomId),m||(p=d(u,"input",e[9]),m=!0)},p(e,t){16&t&&u.value!==e[4].roomId&&i(u,e[4].roomId)},d(e){e&&f(t),m=!1,p()}}}(e),J=e[0]&&D(e);return{c(){t=s("div"),a=s("div"),p=s("h2"),p.textContent="Zea Svelte Template",h=o(),w=s("p"),w.textContent="This is an MIT open sourced template application that can be used to build your own custom applications.",y=o(),x=s("form"),b=s("div"),v=s("p"),v.textContent="Enter a username and the password to start the app.",I=o(),U=s("p"),U.textContent="Note: the defualt password is 'zea' and can be modified in 'auth.js' or you can integrate an authentication\r\n            service like Auth0.",S=o(),z=s("div"),j=s("input"),k=o(),C=s("div"),N=s("input"),R=o(),H&&H.c(),O=o(),J&&J.c(),T=o(),A=s("div"),L=s("button"),P=r("Login"),n(p,"class","mt-6 text-center text-3xl font-extrabold"),n(w,"class","mt-6 text-center"),n(v,"class","mt-6 text-center"),n(U,"class","text-center"),n(j,"autocomplete","off"),n(j,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm"),n(j,"name","username"),n(j,"placeholder","Username"),j.required=!0,n(j,"type","text"),n(z,"class","mb-2"),n(N,"autocomplete","off"),n(N,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm"),n(N,"name","password"),n(N,"placeholder","Password (zea)"),N.required=!0,n(N,"type","password"),n(C,"class","mb-2"),n(b,"class","rounded-md shadow-sm"),L.disabled=e[2],n(L,"type","submit"),n(L,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-gray-800 bg-primary hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"),n(x,"class","mt-8 space-y-6"),n(a,"class","max-w-md w-full space-y-8"),n(t,"class","bg-background min-h-full flex items-center justify-center py-12 px-4 text-foreground sm:px-6 lg:px-8")},m(s,o){l(s,t,o),c(t,a),c(a,p),c(a,h),c(a,w),c(a,y),c(a,x),c(x,b),c(b,v),c(b,I),c(b,U),c(b,S),c(b,z),c(z,j),e[6](j),i(j,e[4].username),c(b,k),c(b,C),c(C,N),i(N,e[4].password),c(b,R),H&&H.m(b,null),c(x,O),J&&J.m(x,null),c(x,T),c(x,A),c(A,L),c(L,P),$||(q=[d(j,"input",e[7]),d(N,"input",e[8]),d(x,"submit",u(m(e[5])))],$=!0)},p(e,t){16&t&&j.value!==e[4].username&&i(j,e[4].username),16&t&&N.value!==e[4].password&&i(N,e[4].password),H.p(e,t),e[0]?J?J.p(e,t):(J=D(e),J.c(),J.m(x,T)):J&&(J.d(1),J=null),4&t&&(L.disabled=e[2])},d(a){a&&f(t),e[6](null),H&&H.d(),J&&J.d(),$=!1,g(q)}}}function D(e){let t,a,o=e[0].message+"";return{c(){t=s("span"),a=r(o),n(t,"class","font-medium tracking-wide text-red-500 text-xs")},m(e,s){l(e,t,s),c(t,a)},p(e,t){1&t&&o!==(o=e[0].message+"")&&p(a,o)},d(e){e&&f(t)}}}function k(e){let t,a=e[1]&&j(e);return{c(){a&&a.c(),t=h()},m(e,s){a&&a.m(e,s),l(e,t,s)},p(e,[s]){e[1]?a?a.p(e,s):(a=j(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:w,o:w,d(e){a&&a.d(e),e&&f(t)}}}function C(e,t,a){let s;y(e,b,(e=>a(10,s=e)));const o=new URLSearchParams(window.location.search);let r,n,l,c;o.has("embedded");const i={password:"",username:"",roomId:o.has("roomId")?o.get("roomId"):`${z(3)}-${z(3)}-${z(3)}`},d=z();return x((async()=>{if(await S.isAuthenticated()&&o.get("roomId"))return void(()=>{const e=new URLSearchParams(window.location.search);s("/?"+e.toString())})();a(1,n=!0);const e=await S.getUserData();e&&a(3,c.value=e.firstName,c),await v(),c.focus()})),[r,n,l,c,i,async()=>{const e={color:U.random().toHex(),firstName:i.username,id:d,lastName:"",password:i.password,username:i.username};try{await S.setUserData(e),a(2,l=!0),((e,t)=>{e=encodeURIComponent(e),t=encodeURIComponent(t);var a=document.location.search.substr(1).split("&");let o=0;for(;o<a.length;o++)if(a[o].startsWith(e)){const e=a[o].split("=");e[1]=t,a[o]=e.join("=");break}o>=a.length&&(a[a.length]=[e,t].join("="));const r=a.length>1?a.join("&"):a[0];s("/?"+r)})("roomId",i.roomId)}catch(e){a(0,r=e)}},function(e){I[e?"unshift":"push"]((()=>{c=e,a(3,c)}))},function(){i.username=this.value,a(4,i)},function(){i.password=this.value,a(4,i)},function(){i.roomId=this.value,a(4,i)}]}class N extends e{constructor(e){super(),t(this,e,C,k,a,{})}}export{N as default};
//# sourceMappingURL=index-a7f96b72.js.map
